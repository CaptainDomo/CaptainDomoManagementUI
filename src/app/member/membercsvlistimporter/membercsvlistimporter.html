<div class="container">
    <h3>Neue Mitgliederdatei hochladen</h3>
    <button type="file" data-ngf-select="vm.uploadFiles($file, $invalidFiles)" accept="*/*">
        <span class="glyphicon glyphicon-file" aria-hidden="true"></span> Datei ausw&auml;hlen ...
    </button>
    <div data-ngf-drop="vm.uploadFiles($files)"
         class="drop-box"
         data-ngf-drag-over-class="'dragover'"
         data-ngf-multiple="true">
        Datei hierhin ziehen zum Upload
    </div>
    <div data-ngf-no-file-drop>Dateiupload per Drag/Drop wird nicht unterst&auml;tzt; bitte per Button w&auml;heln</div>
    <div data-ng-show="vm.file">
        Dateiname: {{vm.file.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}} <br/>
        Fortschritt: <span class="progress" data-ng-show="vm.file.progress >= 0">
						<span style="width: {{vm.file.progress}}" data-ng-bind="vm.file.progress + '%'"></span>
					</span>
        <div>Dieser Upload wurde zwischengespeichert untern der Id: {{vm.preCheckId}}</div>
    </div>
    {{errorMsg}}

    <p class="alert alert-success" data-ng-show="vm.publishPreCheckedMembersResult.publishPreCheckedMembersResultCode === 'SUCCESSFUL'">
        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
        &nbsp;Die Mitglieder wurden erfolgreich aktualisiert!
    </p>
    <p class="alert alert-danger" data-ng-show="vm.publishPreCheckedMembersResult.publishPreCheckedMembersResultCode === 'FAILED'">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        &nbsp;Die Mitglieder konnten aktualisiert werden!
    </p>
</div>
<div class="container">
    <div class="panel panel-default" data-ng-show="vm.preview_members">
        <div class="panel-heading">Vorschau</div>
        <div class="panel-body">
            Pr&uuml;fe die Daten in der nachfolgenden Tabelle. Sind die Daten ok, kannst Du sie
            <button type="button" class="btn btn-success" data-ng-click="vm.publishPreCheckedMembers()">
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> &Uuml;bernehmen
            </button>
            <br/> Falls nicht, lade einfach eine neue Datei hoch.
        </div>
        <table class="table table-striped table-condensed">
            <tr>
                <th>Externe Mitgliedsnummer</th>
                <th>Vorname</th>
                <th>Name</th>
            </tr>
            <tr data-ng-repeat="preview_member in vm.preview_members track by preview_member.number">
                <td>{{preview_member.number}}</td>
                <td>{{preview_member.firstname}}</td>
                <td>{{preview_member.lastname}}</td>
            </tr>
        </table>
    </div>
</div>